<!DOCTYPE html>
<html lang="cn">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PROJECT LOSE WEIGHT</title>
    <link rel="icon" type="image/png" href="assets/images/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i%7cWork+Sans:400,500,700"
          rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="assets/css/combined.css">
    <script src="https://cdn.bootcss.com/echarts/4.0.4/echarts.common.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.js"></script>
    <script src="/layui/layui.all.js"></script>
    <link rel="stylesheet" href="/layui/css/layui.css">

</head>
<body>
<div class="nk-main" style="width: 100%">
    <!-- START: Header Title -->
    <div class="nk-header-title nk-header-title-full">
        <div class="bg-image">
            <div style="background-image: url('assets/images/home-7.jpg');"></div>
            <div class="bg-image-overlay" style="background-color: rgba(12, 12, 12, 0.6);"></div>
        </div>
        <div class="nk-header-table">
            <div class="nk-header-table-cell">
                <div class="container">
                    <div id="main"
                         style="margin-bottom:50px;width: 80%;height:500px;background-color: aliceblue;margin-left: auto;margin-right: auto"></div>
                </div>
            </div>
        </div>
        <div>
            <a class="nk-header-title-scroll-down text-white" href="#nk-header-title-scroll-down">
                <span class="pe-7s-angle-down"></span>
            </a>
        </div>
    </div>

    <div id="nk-header-title-scroll-down"></div>

    <!-- END: Header Title -->


    <!-- START: About Our Agency -->
    <div style="margin-top: 20px;width: 80%;margin-left: auto;margin-right: auto">
        <div>
            <form class="layui-form layui-form-pane" action="">
                <div class="layui-form-item">
                    <label class="layui-form-label">输入密钥</label>
                    <div class="layui-input-block">
                        <input type="password" name="password" placeholder="提交记录前必须填写密钥" autocomplete="off"
                               class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">要记谁的</label>
                    <div class="layui-input-block">
                        <input type="radio" name="who" value="shuang" title="爽">
                        <input type="radio" name="who" value="yingda" title="达">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">记录值</label>
                    <div class="layui-input-block">
                        <input type="text" name="weight" autocomplete="off" placeholder="体重单位为千克（Kg）"
                               class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <div class="layui-input-block">
                        <button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
                        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <hr class="layui-bg-cyan">
    <div style="width: 1000px;margin-left: auto;margin-right: auto">
        <table class="layui-hide" id="cool"></table>
    </div>
    <hr class="layui-bg-cyan">
    <div style="width: 1000px;margin-left: auto;margin-right: auto">
        <table class="layui-hide" id="xyd"></table>
    </div>
    <!-- END: About Our Agency -->
    <!--START: Footer-->
    <footer class="nk-footer">
        <div class="nk-footer-cont">
            <div class="container text-xs-center">
                <div class="nk-footer-text">
                    <p>
                        2018 &copy; Design by Cool Code by Selext
                    </p>
                </div>
            </div>
        </div>
    </footer>
    <!-- END: Footer -->


</div>


<!-- START: Scripts -->

<script src="assets/js/combined.js"></script>

<!-- END: Scripts -->
<script>
    layui.use(['form', 'layedit', 'table'], function () {
        var form = layui.form
            , table = layui.table
            , layer = layui.layer;
        form.render();

        //监听提交
        form.on('submit(demo1)', function (data) {
            $.ajax({
                url: '/record.do',
                type: 'post',
                data: data.field,
                dataType: 'json',
                error: function () {
                    alert('服务器连接失败');
                },
                success: function (data) {
                    if (data.success) {
                        alert('记录成功');
                        window.location.reload();
                    } else {
                        alert(data.message);
                    }
                }
            });
            return false;
        });

        table.render({
            elem: '#cool'
            , url: '/queryInfo.do?who=shuang'
            , cellMinWidth: 80
            , cols: [[
                {field: 'id', width: 200, title: 'ID', sort: true}
                , {field: 'name', width: 200, title: '是谁？'}
                , {field: 'weight', width: 200, title: '多沉？'}
                , {field: 'date', title: '啥时候？'}
            ]]
        });

        table.render({
            elem: '#xyd'
            , url: '/queryInfo.do?who=yingda'
            , cellMinWidth: 80
            , cols: [[
                {field: 'id', width: 200, title: 'ID', sort: true}
                , {field: 'name', width: 200, title: '是谁？'}
                , {field: 'weight', width: 200, title: '多沉？'}
                , {field: 'date', title: '啥时候？'}
            ]]
        });
    });
</script>
<script type="text/javascript">
    $(function () {
        var myChart = echarts.init(document.getElementById('main'), 'light');

        var option = {
            legend: {
                data: ['达', '爽']
            },
            xAxis: {
                type: 'category',
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            },
            yAxis: {
                type: 'value',
                name: '单位：千克',
                min: 50,
                max: 110
            },
            series: [{
                data: [101, 100, 99, 102, 97, 97, 98.2],
                type: 'line',
                name: '达',
                color: 'purple',
                label: {
                    show: true
                }
            }, {
                data: [65, 64, 66.5, 66.75, 70, 65, 65],
                type: 'line',
                name: '爽',
                label: {
                    show: true
                }
            }]
        };

        $.ajax({
            url: '/queryData.do',
            type: 'post',
            data: '',
            async: false,
            dataType: 'json',
            error: function () {
                alert('服务器连接失败');
                window.location.reload();
            },
            success: function (data) {
                option.xAxis.data = data.days;
                option.series[0].data = data.xydValue;
                option.series[1].data = data.coolValue;
            }
        });
        myChart.setOption(option);
    })
</script>

</body>

</html>